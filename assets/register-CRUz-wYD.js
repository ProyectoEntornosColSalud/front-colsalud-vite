import{A as I}from"./config-Cfr_j-x6.js";import{n as B}from"./index-v1iuYM1z.js";function x(){document.getElementById("document_type").value="CC",document.getElementById("document_number").value="99",document.getElementById("name").value="Jon",document.getElementById("last_name").value="Doe",document.getElementById("genre").value="hombre",document.getElementById("birth_date").value="2000-01-01",document.getElementById("email").value="correo@example.com",document.getElementById("tel").value="1234567890",document.getElementById("password").value="hola123",document.getElementById("password_confirm").value="hola123",v(),_()}function v(){const e=document.getElementById("error_register_message");document.getElementById("form_register").addEventListener("submit",async function(a){a.preventDefault();const m=document.getElementById("document_type").value,s=document.getElementById("document_number").value,r=document.getElementById("name").value,c=document.getElementById("last_name").value,l=document.getElementById("genre").value,u=document.getElementById("birth_date").value,i=document.getElementById("email").value,g=document.getElementById("tel").value,o=document.getElementById("password").value,p=document.getElementById("password_confirm").value,y={doc_type:m,doc_number:s,name:r,last_name:c,birth_date:u,gender:l,email:i,phone:g,password:o};if(o!==p){e.textContent="las contraseÃ±as no coinciden";return}try{const t=await fetch(`${I}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(t.ok)B("/citas");else{const E=await t.json();e.textContent=E.message||"Error desconocido"}}catch(t){console.error("Error al conectar con el backend:",t),e.textContent="No se pudo conectar con el servidor."}})}function _(){document.getElementById("toggle_password").addEventListener("click",function(){const e=document.getElementById("password");e.type==="password"?(e.type="text",this.textContent="ðŸ”’"):(e.type="password",this.textContent="ðŸ‘€")}),document.getElementById("toggle_password_confirm").addEventListener("click",function(){const e=document.getElementById("password_confirm");e.type==="password"?(e.type="text",this.textContent="ðŸ”’"):(e.type="password",this.textContent="ðŸ‘€")})}let n=new Date,w=n.toISOString().split("T")[0],f=new Date(n.getFullYear()-127,n.getMonth(),n.getDate()).toISOString().split("T")[0],d=document.getElementById("birth_date");d.setAttribute("max",w);d.setAttribute("min",f);export{x as init};
